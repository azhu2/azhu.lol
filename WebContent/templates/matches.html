<div id="matches" ng-show="showMatchHistory">
	<h2>Match History</h2>
	<ul id="matches-list">
		<li	ng-repeat="match in matchData  | orderBy:'createDate':true track by $index ">
			<div class="match id_{{ match.gameId }}" ng-class="(match.stats.win==1) ? 'win' : 'loss'">

				<div class="topRow">
					<div class="queue box">{{ match.subType | subTypeFilter }}</div>
					<div class="time box">{{ match.createDate | date:'MM/dd/yy h:mm a' }}</div>
					<div class="game-win box" ng-show="match.stats.win">Win</div>
					<div class="game-win box" ng-hide="match.stats.win">Loss</div>
				</div>

				<div class="midRow">
					<div class="championImages">
						<img class="championImage" alt="{{ match.champion == null ? 'champion' : match.champion.name }}"
							ng-src="{{ match.champion == null ? '' : 'https://ddragon.leagueoflegends.com/cdn/' + version + '/img/champion/' + match.champion.key + '.png' }}">
						<div class="summonerSpells">
							<img class="summonerSpell spell1" alt="{{ match.sumSpell1 == null ? 'summoner spell 1' : match.summSpell1.name }}"
								ng-src="{{ match.sumSpell1 == null ? '' : 'https://ddragon.leagueoflegends.com/cdn/' + version + '/img/spell/' + match.sumSpell1.image.full }}">
							<br>
							<img class="summonerSpell spell2" alt="{{ match.sumSpell2 == null ? 'summoner spell 2' : match.summSpell2.name }}"
								ng-src="{{ match.sumSpell2 == null ? '' : 'https://ddragon.leagueoflegends.com/cdn/' + version + '/img/spell/' + match.sumSpell2.image.full }}">
						</div>
					</div>

					<div class="rightStatsBox">
						<div class="scorePanel">
							<div class="score box">{{ match.stats.championsKilled }}/{{ match.stats.numDeaths }}/{{ match.stats.assists }}
							</div>
						</div>
						<div class="gold box">Gold: 
							{{ (match.stats.goldEarned / 1000) | number:0}}.{{ (match.stats.timePlayed % 1000) / 100 | number:0}}k</div>
						<div class="cs box">CS: {{ match.stats.minionsKilled + match.stats.neutralMinionsKilled }}</div>
						<div class="matchLength box">Game Length: 
							{{ (match.stats.timePlayed / 60) | number:0}}:{{ (match.stats.timePlayed % 60) | number:0}}</div>
					</div>
				</div>

				<div class="bottomRow">
					<div class="items">
						<img class="item item0" alt="{{ (match.stats.item0 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item0 }}" 
							ng-src="{{ (match.stats.item0 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item0 + '.png' }}">
						<img class="item item1" alt="{{ (match.stats.item1 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item1 }}"
							ng-src="{{ (match.stats.item1 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item1 + '.png' }}">
						<img class="item item2" alt="{{ (match.stats.item2 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item2 }}"
							ng-src="{{ (match.stats.item2 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item2 + '.png' }}">
						<img class="item item3" alt="{{ (match.stats.item3 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item3 }}"
							ng-src="{{ (match.stats.item3 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item3 + '.png' }}">
						<img class="item item4" alt="{{ (match.stats.item4 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item4 }}"
							ng-src="{{ (match.stats.item4 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item4 + '.png' }}">
						<img class="item item5" alt="{{ (match.stats.item5 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item5 }}"
							ng-src="{{ (match.stats.item5 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item5 + '.png' }}">
						<img class="item item6" alt="{{ (match.stats.item6 === 0 || match.stats == null) ? 'item' : 'item ' +  match.stats.item6 }}"
							ng-src="{{ (match.stats.item6 === 0 || match.stats == null) ? 'img/item_0.png' : 'http://ddragon.leagueoflegends.com/cdn/' + version + '/img/item/' + match.stats.item6 + '.png' }}">
					</div>
					
					<div class="expandMatchButton">
						<button class="expandButton" ng-click="expandMatch(match, summoner)">Details</button>
					</div>
				</div>
				
				<div class="expandMatch" ng-show="match.showExpand">
					<div class="expandTitle">Match Details</div>
						<ul class="expandPlayers">
							<div class="team blue">
								<li ng-repeat="player in matchPlayerBlue">
									<div class="playerInfo">
										{{ player.summoner.name }}
										<img class="playerChampionImage" alt="{{ (player == null || player.champ == null) ? 'champion' : player.champ.name }}"
											ng-src="{{ (player == null || player.champ == null) ? '' : 'https://ddragon.leagueoflegends.com/cdn/' + version + '/img/champion/' + player.champ.key + '.png' }}">
									</div> 								
								</li>
							</div>
							<div class="team red">
								<li class="redTeam" ng-repeat="player in matchPlayerRed">
									<div class="playerInfo">
										<img class="playerChampionImage" alt="{{ (player == null || player.champ == null) ? 'champion' : player.champ.name }}"
											ng-src="{{ (player == null || player.champ == null) ? '' : 'https://ddragon.leagueoflegends.com/cdn/' + version + '/img/champion/' + player.champ.key + '.png' }}">
										{{ player.summoner.name }}
									</div> 								
								</li>
							</div>
							
							
						<!-- This only works with ranked games... 
						<li ng-repeat="playerId in matchDetails.participantIdentities"
							ng-init="player = matchDetails.participant[playerId.participantId - 1]">
							{{ playerId.participantId }}, {{ playerId.player.summonerId }}
							{{ player.championId }}
						</li>
						 -->
					</ul>
				</div>
			</div>
		</li>
	</ul>
</div>